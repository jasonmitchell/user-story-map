(this["webpackJsonpuser-story-map"]=this["webpackJsonpuser-story-map"]||[]).push([[0],{23:function(t,e,n){"use strict";n.r(e);var c,i=n(1),d=n.n(i),r=n(11),a=n.n(r),o=n(2),s=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,24)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,d=e.getLCP,r=e.getTTFB;n(t),c(t),i(t),d(t),r(t)}))},u=n(3),l=Object(o.b)(c||(c=Object(u.a)(["\n  html {\n    box-sizing: border-box;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n    font-size: 18px;\n    line-height: 1.5;\n    display: flex;\n  }\n\n  body {\n    margin: 0;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  *, *:before, *:after {\n    box-sizing: inherit;\n  }\n"]))),b=n(6);function f(){return Math.random().toString(36).substr(2,9)}var j,h,x,p,O,v,y,m=n(4),g=n(15),I=n(7),k=n(0),A=o.c.div(j||(j=Object(u.a)(['\n  width: 100%;\n  display: grid;\n  grid-template-columns: min-content auto min-content;\n  grid-template-rows: min-content auto min-content;\n  gap: 0em;\n  grid-template-areas:\n    "top top top"\n    "left card right"\n    "bottom bottom bottom";\n']))),w=o.c.article(h||(h=Object(u.a)(["\n  border: 1px solid #cccccc;\n  width: 100%;\n  grid-area: card;\n"]))),C=o.c.button.attrs((function(t){return{type:"button"}}))(x||(x=Object(u.a)([""]))),S=Object(o.c)(C)(p||(p=Object(u.a)(["\n  grid-area: top;\n"]))),B=Object(o.c)(C)(O||(O=Object(u.a)(["\n  grid-area: bottom;\n"]))),R=Object(o.c)(C)(v||(v=Object(u.a)(["\n  grid-area: left;\n"]))),L=Object(o.c)(C)(y||(y=Object(u.a)(["\n  grid-area: right;\n"]))),E="add-activity",F="add-task",M="add-story",N="update-card",U="delete-activity",z="delete-task",J="delete-story";function D(t){var e=t.id,n=t.title,c=t.type,i=t.onAddAbove,d=t.onAddBelow,r=t.onAddLeft,a=t.onAddRight,o=t.dispatch;return Object(k.jsxs)(A,{children:[Object(k.jsxs)(w,{children:[Object(k.jsx)("input",{type:"text",autoFocus:!0,value:n,onChange:function(t){o({type:N,cardId:e,title:t.target.value})}}),Object(k.jsx)("button",{type:"button",onClick:function(){o({type:"activity"===c?U:"task"===c?z:J,cardId:e})},children:"Delete"})]}),d&&Object(k.jsx)(B,{onClick:d,children:"+"}),a&&Object(k.jsx)(L,{onClick:a,children:"+"}),i&&Object(k.jsx)(S,{onClick:i,children:"+"}),r&&Object(k.jsx)(R,{onClick:r,children:"+"})]})}function T(t){var e=t.onAddLeft,n=t.onAddRight,c=Object(I.a)(t,["onAddLeft","onAddRight"]);return Object(k.jsx)(D,Object(m.a)(Object(m.a)({},c),{},{onAddLeft:e,onAddRight:n,onAddAbove:null,onAddBelow:null}))}function W(t){var e=t.onAddLeft,n=t.onAddRight,c=Object(I.a)(t,["onAddLeft","onAddRight"]);return Object(k.jsx)(D,Object(m.a)(Object(m.a)({},c),{},{onAddLeft:e,onAddRight:n,onAddAbove:null,onAddBelow:null}))}function P(t){var e=t.onAddAbove,n=t.onAddBelow,c=Object(I.a)(t,["onAddAbove","onAddBelow"]);return Object(k.jsx)(D,Object(m.a)(Object(m.a)({},c),{},{onAddLeft:null,onAddRight:null,onAddAbove:e,onAddBelow:n}))}function H(t,e,n,c){t.filter((function(t){return 0===t.id.indexOf(e)&&t.index>=n&&(!c||c(t))})).forEach((function(t){t.index+=1}))}function q(t){var e=0;t.sort((function(t,e){return t.index-e.index})).forEach((function(t){t.index=e++}))}function G(t,e){var n=[];return t.forEach((function(t,c){!0===e(t)&&n.push(c)})),n}var K=function(t,e){var n=t.cards.findIndex((function(t){return t.id===e})),c=t.cards[n];return G(t.cards,(function(t){return t.taskId===e})).forEach((function(e){t.cards.splice(e,1)})),t.cards.splice(n,1),c};function Q(t,e){switch(e.type){case E:H(t.cards,"activity",e.activityIndex),t.cards.push({id:"activity-".concat(f()),type:"activity",title:"",index:e.activityIndex});break;case F:H(t.cards,"task",e.taskIndex,(function(t){return t.activityId===e.activityId})),t.cards.push({id:"task-".concat(f()),type:"task",activityId:e.activityId,title:"",index:e.taskIndex});break;case M:H(t.cards,"story",e.storyIndex,(function(t){return t.taskId===e.taskId&&t.releaseId===e.releaseId})),t.cards.push({id:"story-".concat(f()),type:"story",releaseId:e.releaseId,taskId:e.taskId,title:"",index:e.storyIndex});break;case N:t.cards.find((function(t){return t.id===e.cardId})).title=e.title;break;case U:!function(t,e){var n=t.cards.findIndex((function(t){return t.id===e})),c=t.cards[n];G(t.cards,(function(t){return t.activityId===c.id})).map((function(e){return t.cards[e].id})).forEach((function(e){K(t.cards,e)})),t.cards.splice(n,1)}(t,e.cardId),q(t.cards.filter((function(t){return"activity"===t.type})));break;case z:var n=K(t,e.cardId);q(t.cards.filter((function(t){return t.activityId===n.activityId})));break;case J:var c=t.cards.findIndex((function(t){return t.id===e.cardId})),i=t.cards[c];t.cards.splice(c,1),q(t.cards.filter((function(t){return t.taskId===i.taskId&&t.releaseId===i.releaseId})));break;case"add-release":t.releases.splice(e.index,0,{id:f(),name:""});break;case"update-release":t.releases.find((function(t){return t.id===e.releaseId})).name=e.name;break;default:throw new Error("Unknown action type")}}var V,X,Y,Z,$,_,tt={releases:[{id:"release-".concat(f()),name:"Backlog"}],cards:[]},et=o.c.section(V||(V=Object(u.a)(["\n  border-top: 1px solid #cccccc;\n"])));function nt(t){var e=t.id,n=t.name,c=t.children,i=t.onAddAbove,d=t.onAddBelow,r=t.dispatch;return Object(k.jsxs)(et,{children:[Object(k.jsxs)("header",{children:[Object(k.jsx)("input",{type:"text",value:n,autoFocus:!0,onChange:function(t){r({type:"update-release",releaseId:e,name:t.target.value})}}),Object(k.jsx)("button",{type:"button",onClick:i,children:"Add Release Above"}),Object(k.jsx)("button",{type:"button",onClick:d,children:"Add Release Below"})]}),Object(k.jsx)("div",{children:c})]})}var ct=o.c.div(X||(X=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  max-height: 100vh;\n  min-width: 100vw;\n  background: ",";\n"])),(function(t){return t.theme.background})),it=o.c.div(Y||(Y=Object(u.a)(["\n  display: flex;\n"]))),dt=o.c.div(Z||(Z=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  min-width: ",";\n  max-width: ",";\n"])),(function(t){return t.theme.columnWidth}),(function(t){return t.theme.columnWidth})),rt=o.c.div($||($=Object(u.a)(["\n  display: flex;\n"]))),at=o.c.div(_||(_=Object(u.a)(["\n  display: flex;\n"])));function ot(t,e){t({type:E,activityIndex:e})}function st(t,e,n){t({type:F,activityId:e,taskIndex:n})}function ut(t,e){t({type:"add-release",index:e})}function lt(t,e){return t.filter((function(t){return 0===t.id.indexOf(e)})).sort((function(t,e){return t.index-e.index}))}var bt,ft,jt,ht=function(t){var e=t.map,n=t.onMapUpdated,c=Object(g.a)(Q,e||tt),d=Object(b.a)(c,2),r=d[0],a=d[1],o=r.releases,s=r.cards,u=lt(s,"activity"),l=lt(s,"task"),f=lt(s,"story");return Object(i.useEffect)((function(){n(r)}),[n,r,e]),Object(k.jsxs)(ct,{children:[Object(k.jsxs)(rt,{children:[u.map((function(t){var e=l.filter((function(e){return e.activityId===t.id}));return Object(k.jsxs)("div",{children:[Object(k.jsx)(dt,{children:Object(k.jsx)(T,Object(m.a)(Object(m.a)({},t),{},{onAddLeft:function(){return ot(a,t.index)},onAddRight:function(){return ot(a,t.index+1)},dispatch:a}))}),Object(k.jsxs)(at,{children:[e.map((function(e){return Object(k.jsx)(dt,{children:Object(k.jsx)(W,Object(m.a)(Object(m.a)({},e),{},{onAddLeft:function(){return st(a,t.id,e.index)},onAddRight:function(){return st(a,t.id,e.index+1)},dispatch:a}))},e.id)})),!e.length&&Object(k.jsx)("button",{type:"button",onClick:function(){return st(a,t.id,0)},children:"+ New Task"})]})]},t.id)})),!u.length&&Object(k.jsx)("button",{type:"button",onClick:function(){return ot(a,0)},children:"+ New Activity"})]}),o.map((function(t,e){var n=f.filter((function(e){return e.releaseId===t.id}));return Object(k.jsx)(nt,Object(m.a)(Object(m.a)({},t),{},{dispatch:a,index:e,onAddAbove:function(){return ut(a,e)},onAddBelow:function(){return ut(a,e+1)},children:Object(k.jsx)(it,{children:u.map((function(e){var c=l.filter((function(t){return t.activityId===e.id}));return c.length?c.length&&c.map((function(e){var c=n.filter((function(n){return n.releaseId===t.id&&n.taskId===e.id})),i=function(t,e,n,c){return function(c){t({type:M,releaseId:e,taskId:n,storyIndex:c})}}(a,t.id,e.id);return Object(k.jsxs)(dt,{children:[c.map((function(t,e){return Object(k.jsx)(P,Object(m.a)(Object(m.a)({},t),{},{onAddAbove:function(){return i(e)},onAddBelow:function(){return i(e+1)},dispatch:a}),t.id)})),!c.length&&Object(k.jsx)("button",{type:"button",onClick:function(){return i(0)},children:"+ New Story"})]},"task-stories-".concat(e.id))})):Object(k.jsx)(dt,{},"activity-empty-tasks-".concat(e.id))}))})}),"release-".concat(t.id))}))]})},xt=o.c.div(bt||(bt=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100vw;\n  height: 100vh;\n  max-height: 100vh;\n"]))),pt=o.c.header(ft||(ft=Object(u.a)(["\n  background: ",";\n"])),(function(t){return t.theme.header})),Ot=o.c.section(jt||(jt=Object(u.a)(["\n  flex: 1;\n  overflow: auto;\n  padding-top: 0.5em;\n"])));function vt(t){localStorage.setItem("map",JSON.stringify(t))}var yt=JSON.parse(localStorage.getItem("map"));var mt=function(){var t=Object(i.useState)(f()),e=Object(b.a)(t,2),n=e[0],c=e[1];return Object(k.jsxs)(xt,{children:[Object(k.jsxs)(pt,{children:["User Story Map",Object(k.jsx)("button",{type:"button",onClick:function(){localStorage.removeItem("map"),yt=null,c(f())},children:"Clear"})]}),Object(k.jsx)(Ot,{children:Object(k.jsx)(ht,{map:yt,onMapUpdated:vt},n)})]})};a.a.render(Object(k.jsx)(d.a.StrictMode,{children:Object(k.jsxs)(o.a,{theme:{background:"#ffffff",header:"#cccccc",columnWidth:"250px"},children:[Object(k.jsx)(l,{}),Object(k.jsx)(mt,{})]})}),document.getElementById("root")),s()}},[[23,1,2]]]);
//# sourceMappingURL=main.a0166915.chunk.js.map