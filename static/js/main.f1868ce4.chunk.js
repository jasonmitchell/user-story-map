(this["webpackJsonpuser-story-map"]=this["webpackJsonpuser-story-map"]||[]).push([[0],{23:function(t,e,n){"use strict";n.r(e);var c,i,o,d,a,r,s,l,u,b=n(1),j=n.n(b),f=n(10),O=n.n(f),h=n(2),x=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,24)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,o=e.getLCP,d=e.getTTFB;n(t),c(t),i(t),o(t),d(t)}))},p=n(3),m=Object(h.b)(c||(c=Object(p.a)(["\n  html {\n    box-sizing: border-box;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n    font-size: 18px;\n    line-height: 1.5;\n    display: flex;\n  }\n\n  body {\n    margin: 0;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  *, *:before, *:after {\n    box-sizing: inherit;\n  }\n"]))),v=n(4),g=n(14),A=n(15),y=n(6),k=n(0),w=h.c.div(i||(i=Object(p.a)(['\n  width: 100%;\n  display: grid;\n  grid-template-columns: min-content auto min-content;\n  grid-template-rows: min-content auto min-content;\n  gap: 0em;\n  grid-template-areas:\n    "top top top"\n    "left card right"\n    "bottom bottom bottom";\n']))),I=h.c.article(o||(o=Object(p.a)(["\n  border: 1px solid #cccccc;\n  width: 100%;\n  grid-area: card;\n"]))),B=h.c.button.attrs((function(t){return{type:"button"}}))(d||(d=Object(p.a)([""]))),C=Object(h.c)(B)(a||(a=Object(p.a)(["\n  grid-area: top;\n"]))),R=Object(h.c)(B)(r||(r=Object(p.a)(["\n  grid-area: bottom;\n"]))),L=Object(h.c)(B)(s||(s=Object(p.a)(["\n  grid-area: left;\n"]))),S=Object(h.c)(B)(l||(l=Object(p.a)(["\n  grid-area: right;\n"])));function F(t){var e=t.title,n=t.onAddAbove,c=t.onAddBelow,i=t.onAddLeft,o=t.onAddRight;return Object(k.jsxs)(w,{children:[Object(k.jsx)(I,{children:Object(k.jsx)("input",{type:"text",defaultValue:e,autoFocus:!0})}),c&&Object(k.jsx)(R,{onClick:c,children:"+"}),o&&Object(k.jsx)(S,{onClick:o,children:"+"}),n&&Object(k.jsx)(C,{onClick:n,children:"+"}),i&&Object(k.jsx)(L,{onClick:i,children:"+"})]})}function N(t){var e=t.onAddLeft,n=t.onAddRight,c=Object(y.a)(t,["onAddLeft","onAddRight"]);return Object(k.jsx)(F,Object(v.a)(Object(v.a)({},c),{},{onAddLeft:e,onAddRight:n,onAddAbove:null,onAddBelow:null}))}function M(t){var e=t.onAddLeft,n=t.onAddRight,c=Object(y.a)(t,["onAddLeft","onAddRight"]);return Object(k.jsx)(F,Object(v.a)(Object(v.a)({},c),{},{onAddLeft:e,onAddRight:n,onAddAbove:null,onAddBelow:null}))}function U(t){var e=t.onAddAbove,n=t.onAddBelow,c=Object(y.a)(t,["onAddAbove","onAddBelow"]);return Object(k.jsx)(F,Object(v.a)(Object(v.a)({},c),{},{onAddLeft:null,onAddRight:null,onAddAbove:e,onAddBelow:n}))}var z,J,E,T,W,D=h.c.section(u||(u=Object(p.a)(["\n  border-top: 1px solid #cccccc;\n"])));function P(t){var e=t.name,n=t.children,c=t.onAddAbove,i=t.onAddBelow;return Object(k.jsxs)(D,{children:[Object(k.jsxs)("header",{children:[Object(k.jsx)("input",{type:"text",defaultValue:e,autoFocus:!0}),Object(k.jsx)("button",{type:"button",onClick:c,children:"Add Release Above"}),Object(k.jsx)("button",{type:"button",onClick:i,children:"Add Release Below"})]}),Object(k.jsx)("div",{children:n})]})}var V=h.c.div(z||(z=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  max-height: 100vh;\n  min-width: 100vw;\n  background: ",";\n"])),(function(t){return t.theme.background})),H=h.c.div(J||(J=Object(p.a)(["\n  display: flex;\n"]))),q=h.c.div(E||(E=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  min-width: ",";\n  max-width: ",";\n"])),(function(t){return t.theme.columnWidth}),(function(t){return t.theme.columnWidth})),G=h.c.div(T||(T=Object(p.a)(["\n  display: flex;\n"]))),K=h.c.div(W||(W=Object(p.a)(["\n  display: flex;\n"])));function Q(){return Math.random().toString(36).substr(2,9)}var X={releases:[{id:Q(),name:"Backlog"}],activities:[]};function Y(t,e){switch(e.type){case"add-activity":t.activities.splice(e.activityIndex,0,{id:Q(),title:"",tasks:[]});break;case"add-task":t.activities[e.activityIndex].tasks.splice(e.taskIndex,0,{id:Q(),title:"",stories:[]});break;case"add-story":t.activities[e.activityIndex].tasks[e.taskIndex].stories.splice(e.storyIndex,0,{id:Q(),releaseId:e.releaseId,title:""});break;case"add-release":t.releases.splice(e.index,0,{id:Q(),name:""});break;default:throw new Error("Unknown action type")}}function Z(t,e){e<0&&(e=0),t({type:"add-activity",activityIndex:e})}function $(t,e,n){n<0&&(n=0),t({type:"add-task",activityIndex:e,taskIndex:n})}function _(t,e){e<0&&(e=0),t({type:"add-release",index:e})}var tt=function(t){var e=t.map,n=t.onMapUpdated,c=Object(A.a)(Y,e||X),i=Object(g.a)(c,2),o=i[0],d=o.releases,a=o.activities,r=i[1];return Object(b.useEffect)((function(){n({releases:d,activities:a})}),[n,d,a]),Object(k.jsxs)(V,{children:[Object(k.jsxs)(G,{children:[a.map((function(t,e){return Object(k.jsxs)("div",{children:[Object(k.jsx)(q,{children:Object(k.jsx)(N,{title:t.title,onAddLeft:function(){return Z(r,e)},onAddRight:function(){return Z(r,e+1)}})}),Object(k.jsxs)(K,{children:[t.tasks.map((function(t,n){return Object(k.jsx)(q,{children:Object(k.jsx)(M,{title:t.title,onAddLeft:function(){return $(r,e,n)},onAddRight:function(){return $(r,e,n+1)}})},"task-".concat(t.id))})),!t.tasks.length&&Object(k.jsx)("button",{type:"button",onClick:function(){return $(r,e,0)},children:"+ New Task"})]})]},"activity-".concat(t.id))})),!a.length&&Object(k.jsx)("button",{type:"button",onClick:function(){return Z(r,0)},children:"+ New Activity"})]}),d.map((function(t,e){return Object(k.jsx)(P,Object(v.a)(Object(v.a)({},t),{},{index:e,onAddAbove:function(){return _(r,e)},onAddBelow:function(){return _(r,e+1)},children:Object(k.jsx)(H,{children:a.map((function(e,n){return e.tasks.length?e.tasks.length&&e.tasks.map((function(e,c){var i=e.stories.filter((function(e){return e.releaseId===t.id})),o=function(t,e,n,c,i){return function(i){i<0&&(i=0),t({type:"add-story",releaseId:e.id,activityIndex:n,taskIndex:c,storyIndex:i})}}(r,t,n,c);return Object(k.jsxs)(q,{children:[i.map((function(t,e){return Object(k.jsx)(U,Object(v.a)(Object(v.a)({},t),{},{onAddAbove:function(){return o(e)},onAddBelow:function(){return o(e+1)}}),"story-".concat(t.id))})),!i.length&&Object(k.jsx)("button",{type:"button",onClick:function(){return o(r,0)},children:"+ New Story"})]},"task-stories-".concat(e.id))})):Object(k.jsx)(q,{},"activity-empty-tasks-".concat(e.id))}))})}),"release-".concat(t.id))}))]})};function et(t){localStorage.setItem("map",JSON.stringify(t))}var nt=function(){var t=JSON.parse(localStorage.getItem("map"));return Object(k.jsx)(tt,{map:t,onMapUpdated:et})};O.a.render(Object(k.jsx)(j.a.StrictMode,{children:Object(k.jsxs)(h.a,{theme:{background:"#ffffff",columnWidth:"250px"},children:[Object(k.jsx)(m,{}),Object(k.jsx)(nt,{})]})}),document.getElementById("root")),x()}},[[23,1,2]]]);
//# sourceMappingURL=main.f1868ce4.chunk.js.map