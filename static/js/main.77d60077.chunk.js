(this["webpackJsonpuser-story-map"]=this["webpackJsonpuser-story-map"]||[]).push([[0],{23:function(t,n,e){"use strict";e.r(n);var c,i=e(1),d=e.n(i),r=e(11),a=e.n(r),o=e(2),s=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,24)).then((function(n){var e=n.getCLS,c=n.getFID,i=n.getFCP,d=n.getLCP,r=n.getTTFB;e(t),c(t),i(t),d(t),r(t)}))},u=e(3),l=Object(o.b)(c||(c=Object(u.a)(["\n  html {\n    box-sizing: border-box;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n    font-size: 18px;\n    line-height: 1.5;\n    display: flex;\n  }\n\n  body {\n    margin: 0;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  *, *:before, *:after {\n    box-sizing: inherit;\n  }\n"]))),b=e(6);function f(){return Math.random().toString(36).substr(2,9)}var j,h,x,O,p,v,y,m,g=e(4),I=e(15),k=e(7),A=e(0),w=o.c.div(j||(j=Object(u.a)(['\n  width: 100%;\n  display: grid;\n  grid-template-columns: min-content auto min-content;\n  grid-template-rows: min-content auto min-content;\n  gap: 0em;\n  grid-template-areas:\n    "top top top"\n    "left card right"\n    "bottom bottom bottom";\n']))),C=o.c.article(h||(h=Object(u.a)(["\n  border: 1px solid #cccccc;\n  width: 100%;\n  grid-area: card;\n"]))),S=o.c.button.attrs((function(t){return{type:"button"}}))(x||(x=Object(u.a)([""]))),B=Object(o.c)(S)(O||(O=Object(u.a)(["\n  grid-area: top;\n"]))),R=Object(o.c)(S)(p||(p=Object(u.a)(["\n  grid-area: bottom;\n"]))),L=Object(o.c)(S)(v||(v=Object(u.a)(["\n  grid-area: left;\n"]))),E=Object(o.c)(S)(y||(y=Object(u.a)(["\n  grid-area: right;\n"]))),F="add-activity",M="add-task",N="add-story",U="update-card",z="delete-activity",J="delete-task",D="delete-story";function T(t){var n=t.id,e=t.title,c=t.type,i=t.onAddAbove,d=t.onAddBelow,r=t.onAddLeft,a=t.onAddRight,o=t.dispatch;return Object(A.jsxs)(w,{children:[Object(A.jsxs)(C,{children:[Object(A.jsx)("input",{type:"text",autoFocus:!0,value:e,onChange:function(t){o({type:U,cardId:n,title:t.target.value})}}),Object(A.jsx)("button",{type:"button",onClick:function(){o({type:"activity"===c?z:"task"===c?J:D,cardId:n})},children:"Delete"})]}),d&&Object(A.jsx)(R,{onClick:d,children:"+"}),a&&Object(A.jsx)(E,{onClick:a,children:"+"}),i&&Object(A.jsx)(B,{onClick:i,children:"+"}),r&&Object(A.jsx)(L,{onClick:r,children:"+"})]})}function W(t){var n=t.onAddLeft,e=t.onAddRight,c=Object(k.a)(t,["onAddLeft","onAddRight"]);return Object(A.jsx)(T,Object(g.a)(Object(g.a)({},c),{},{onAddLeft:n,onAddRight:e,onAddAbove:null,onAddBelow:null}))}function P(t){var n=t.onAddLeft,e=t.onAddRight,c=Object(k.a)(t,["onAddLeft","onAddRight"]);return Object(A.jsx)(T,Object(g.a)(Object(g.a)({},c),{},{onAddLeft:n,onAddRight:e,onAddAbove:null,onAddBelow:null}))}function H(t){var n=t.onAddAbove,e=t.onAddBelow,c=Object(k.a)(t,["onAddAbove","onAddBelow"]);return Object(A.jsx)(T,Object(g.a)(Object(g.a)({},c),{},{onAddLeft:null,onAddRight:null,onAddAbove:n,onAddBelow:e}))}var V,q,G,K,Q,X=o.c.section(m||(m=Object(u.a)(["\n  border-top: 1px solid #cccccc;\n"])));function Y(t){var n=t.name,e=t.children,c=t.onAddAbove,i=t.onAddBelow;return Object(A.jsxs)(X,{children:[Object(A.jsxs)("header",{children:[Object(A.jsx)("input",{type:"text",defaultValue:n,autoFocus:!0}),Object(A.jsx)("button",{type:"button",onClick:c,children:"Add Release Above"}),Object(A.jsx)("button",{type:"button",onClick:i,children:"Add Release Below"})]}),Object(A.jsx)("div",{children:e})]})}var Z=o.c.div(V||(V=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  max-height: 100vh;\n  min-width: 100vw;\n  background: ",";\n"])),(function(t){return t.theme.background})),$=o.c.div(q||(q=Object(u.a)(["\n  display: flex;\n"]))),_=o.c.div(G||(G=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  min-width: ",";\n  max-width: ",";\n"])),(function(t){return t.theme.columnWidth}),(function(t){return t.theme.columnWidth})),tt=o.c.div(K||(K=Object(u.a)(["\n  display: flex;\n"]))),nt=o.c.div(Q||(Q=Object(u.a)(["\n  display: flex;\n"]))),et={releases:[{id:"release-".concat(f()),name:"Backlog"}],cards:[]};function ct(t,n){var e=function(t,n,e,c){t.filter((function(t){return 0===t.id.indexOf(n)&&t.index>=e&&(!c||c(t))})).forEach((function(t){t.index+=1}))},c=function(t){var n=0;t.sort((function(t,n){return t.index-n.index})).forEach((function(t){t.index=n++}))},i=function(t,n){var e=[];return t.forEach((function(t,c){!0===n(t)&&e.push(c)})),e},d=function(n,e){var c=n.findIndex((function(t){return t.id===e})),d=n[c];return i(t.cards,(function(t){return t.taskId===e})).forEach((function(n){t.cards.splice(n,1)})),t.cards.splice(c,1),d};switch(n.type){case F:e(t.cards,"activity",n.activityIndex),t.cards.push({id:"activity-".concat(f()),type:"activity",title:"",index:n.activityIndex});break;case M:e(t.cards,"task",n.taskIndex,(function(t){return t.activityId===n.activityId})),t.cards.push({id:"task-".concat(f()),type:"task",activityId:n.activityId,title:"",index:n.taskIndex});break;case N:e(t.cards,"story",n.storyIndex,(function(t){return t.taskId===n.taskId&&t.releaseId===n.releaseId})),t.cards.push({id:"story-".concat(f()),type:"story",releaseId:n.releaseId,taskId:n.taskId,title:"",index:n.storyIndex});break;case U:t.cards.find((function(t){return t.id===n.cardId})).title=n.title;break;case z:!function(n,e){var c=n.findIndex((function(t){return t.id===e})),r=n[c];i(t.cards,(function(t){return t.activityId===r.id})).map((function(n){return t.cards[n].id})).forEach((function(t){d(n,t)})),t.cards.splice(c,1)}(t.cards,n.cardId),c(t.cards.filter((function(t){return"activity"===t.type})));break;case J:var r=d(t.cards,n.cardId);c(t.cards.filter((function(t){return t.activityId===r.activityId})));break;case D:var a=t.cards.findIndex((function(t){return t.id===n.cardId})),o=t.cards[a];t.cards.splice(a,1),c(t.cards.filter((function(t){return t.taskId===o.taskId&&t.releaseId===o.releaseId})));break;case"add-release":t.releases.splice(n.index,0,{id:f(),name:""});break;default:throw new Error("Unknown action type")}}function it(t,n){t({type:F,activityIndex:n})}function dt(t,n,e){t({type:M,activityId:n,taskIndex:e})}function rt(t,n){t({type:"add-release",index:n})}function at(t,n){return t.filter((function(t){return 0===t.id.indexOf(n)})).sort((function(t,n){return t.index-n.index}))}var ot,st,ut,lt=function(t){var n=t.map,e=t.onMapUpdated,c=Object(I.a)(ct,n||et),d=Object(b.a)(c,2),r=d[0],a=d[1],o=r.releases,s=r.cards,u=at(s,"activity"),l=at(s,"task"),f=at(s,"story");return Object(i.useEffect)((function(){e(r)}),[e,r,n]),Object(A.jsxs)(Z,{children:[Object(A.jsxs)(tt,{children:[u.map((function(t){var n=l.filter((function(n){return n.activityId===t.id}));return Object(A.jsxs)("div",{children:[Object(A.jsx)(_,{children:Object(A.jsx)(W,Object(g.a)(Object(g.a)({},t),{},{onAddLeft:function(){return it(a,t.index)},onAddRight:function(){return it(a,t.index+1)},dispatch:a}))}),Object(A.jsxs)(nt,{children:[n.map((function(n){return Object(A.jsx)(_,{children:Object(A.jsx)(P,Object(g.a)(Object(g.a)({},n),{},{onAddLeft:function(){return dt(a,t.id,n.index)},onAddRight:function(){return dt(a,t.id,n.index+1)},dispatch:a}))},n.id)})),!n.length&&Object(A.jsx)("button",{type:"button",onClick:function(){return dt(a,t.id,0)},children:"+ New Task"})]})]},t.id)})),!u.length&&Object(A.jsx)("button",{type:"button",onClick:function(){return it(a,0)},children:"+ New Activity"})]}),o.map((function(t,n){var e=f.filter((function(n){return n.releaseId===t.id}));return Object(A.jsx)(Y,Object(g.a)(Object(g.a)({},t),{},{index:n,onAddAbove:function(){return rt(a,n)},onAddBelow:function(){return rt(a,n+1)},children:Object(A.jsx)($,{children:u.map((function(n){var c=l.filter((function(t){return t.activityId===n.id}));return c.length?c.length&&c.map((function(n){var c=e.filter((function(e){return e.releaseId===t.id&&e.taskId===n.id})),i=function(t,n,e,c){return function(c){t({type:N,releaseId:n,taskId:e,storyIndex:c})}}(a,t.id,n.id);return Object(A.jsxs)(_,{children:[c.map((function(t,n){return Object(A.jsx)(H,Object(g.a)(Object(g.a)({},t),{},{onAddAbove:function(){return i(n)},onAddBelow:function(){return i(n+1)},dispatch:a}),t.id)})),!c.length&&Object(A.jsx)("button",{type:"button",onClick:function(){return i(0)},children:"+ New Story"})]},"task-stories-".concat(n.id))})):Object(A.jsx)(_,{},"activity-empty-tasks-".concat(n.id))}))})}),"release-".concat(t.id))}))]})},bt=o.c.div(ot||(ot=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100vw;\n  height: 100vh;\n  max-height: 100vh;\n"]))),ft=o.c.header(st||(st=Object(u.a)(["\n  background: ",";\n"])),(function(t){return t.theme.header})),jt=o.c.section(ut||(ut=Object(u.a)(["\n  flex: 1;\n  overflow: auto;\n  padding-top: 0.5em;\n"])));function ht(t){localStorage.setItem("map",JSON.stringify(t))}var xt=JSON.parse(localStorage.getItem("map"));var Ot=function(){var t=Object(i.useState)(f()),n=Object(b.a)(t,2),e=n[0],c=n[1];return Object(A.jsxs)(bt,{children:[Object(A.jsxs)(ft,{children:["User Story Map",Object(A.jsx)("button",{type:"button",onClick:function(){localStorage.removeItem("map"),xt=null,c(f())},children:"Clear"})]}),Object(A.jsx)(jt,{children:Object(A.jsx)(lt,{map:xt,onMapUpdated:ht},e)})]})};a.a.render(Object(A.jsx)(d.a.StrictMode,{children:Object(A.jsxs)(o.a,{theme:{background:"#ffffff",header:"#cccccc",columnWidth:"250px"},children:[Object(A.jsx)(l,{}),Object(A.jsx)(Ot,{})]})}),document.getElementById("root")),s()}},[[23,1,2]]]);
//# sourceMappingURL=main.77d60077.chunk.js.map